version: '3.2'
services:
  custom-packages:
    image: eaas/custom-packages
    build: common/custom-packages
  picotcp:
    image: eaas/picotcp
    build: common/eaas-picotcp
  disktype:
    image: eaas/disktype
    build: common/eaas-disktype
  emucon-tools:
    image: eaas/emucon-tools
    build: common/eaas-emucon-tools
  criu:
    image: eaas/criu
    build: common/eaas-criu
  netfilter:
    image: eaas/netfilter
    build: common/netfilter
  base:
    image: eaas/eaas-base
    build: eaas-base
    tty: true
    depends_on:
      - custom-packages
      - picotcp
      - disktype
      - emucon-tools
      - criu
      - netfilter
  eaas-appserver:
    image: eaas/eaas-appserver
    build: eaas-appserver
    depends_on:
      - base
#  citar:
#    image: eaas/citar
#    build: citar-container
#    depends_on:
#      - base

